!function(o){o(document).ready(function(){var n,a=o("#custom-background-image");o("#background-color").wpColorPicker({change:function(o,n){a.css("background-color",n.color.toString())},clear:function(){a.css("background-color","")}}),o('input[name="background-position-x"]').change(function(){a.css("background-position",o(this).val()+" top")}),o('input[name="background-repeat"]').change(function(){a.css("background-repeat",o(this).val())}),o("#choose-from-library-link").click(function(a){var t=o(this);a.preventDefault(),n?n.open():((n=wp.media.frames.customBackground=wp.media({title:t.data("choose"),library:{type:"image"},button:{text:t.data("update"),close:!1}})).on("select",function(){var a=n.state().get("selection").first(),t=o("#_wpnonce").val()||"";o.post(ajaxurl,{action:"set-background-image",attachment_id:a.id,_ajax_nonce:t,size:"full"}).done(function(){window.location.reload()})}),n.open())})})}(jQuery);